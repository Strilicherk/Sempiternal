<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/register_login.css">
    <title>Sempiternal - Login</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <a href="landing_page.html" class="header__logo"> <h2>SEMPITERNAL</h2> </a>
            <div class="header__nav__deslogado">
                <div class="ranking__banda">
                    <ul class="navbar__items">
                        <li><a href="navigation.html">Bandas</a></li>
                    </ul>
                </div>
                <div class="login__cadastro">
                    <ul class="navbar__items">
                        <li>
                            <a href="login.html">LOGIN</a>
                        </li>
                        <li>
                            <a href="register.html"><span class="botao">CADASTRE-SE</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="auth__card">
            <div class="auth__tabs">
                <a href="register.html" class="tab__link">CADASTRO</a>
                <a href="login.html" class="tab__link tab__active">LOGIN</a>
            </div>

            <form class="form__group">
                <div class="input__box">
                    <label for="input__email__login">Email</label>
                    <input type="email" id="input__email__login" placeholder="voce@email.com" oninput="ValidarEmailLogin()">
                    <span id="msg__email__login__erro" class="msg__error">Use um email válido: Gmail, Outlook, Yahoo ou Hotmail.</span>
                </div>

                <div class="input__box">
                    <label for="input__senha__login">Senha</label>
                    <input type="password" id="input__senha__login" placeholder="••••••" oninput="ValidarSenhaLogin()">
                    <span id="msg__senha__login__erro" class="msg__error">Digite sua senha para entrar.</span>
                </div>

                <a href="#" class="forgot__password">Esqueceu a senha?</a>

                <button type="button" class="btn__form" onclick="Entrar()">ENTRAR</button>
            </form>
        </div>
    </main>

    <script>
        function ValidarEmailLogin() {
            var emailLogin = input__email__login.value.toLowerCase();
            var emailLoginValido = false;
            
            var provedoresPermitidos = [
                "@gmail.com", 
                "@hotmail.com", 
                "@outlook.com", 
                "@yahoo.com",
            ];

            for (var i = 0; i < provedoresPermitidos.length; i++) {
                var provedor = provedoresPermitidos[i];
                if (emailLogin.endsWith(provedor)) {
                    emailLoginValido = true;
                    break; 
                }
            }

            if (emailLoginValido == false) {
                msg__email__login__erro.style.display = 'block';
                return false;
            } else {
                msg__email__login__erro.style.display = 'none';
                return true;
            }
        }

        function ValidarSenhaLogin() {
            var senhaLogin = input__senha__login.value;

            if (senhaLogin.length < 1) {
                msg__senha__login__erro.style.display = 'block';
                return false;
            } else {
                msg__senha__login__erro.style.display = 'none';
                return true;
            }
        }

        function Entrar() {
            var emailOk = ValidarEmailLogin();
            var senhaOk = ValidarSenhaLogin();

            if (emailOk && senhaOk) {
                console.log("Login validado. Enviando para API...");
            }
        }
    </script>
</body>
</html>